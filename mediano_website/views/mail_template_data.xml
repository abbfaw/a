<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- fonction pour activer la modification du template de la confirmation d'achat -->
        <function name="write" model="ir.model.data">
            <function name="search" model="ir.model.data">
                <value eval="[('name','=','mail_template_sale_confirmation'),('module','=','sale')]"/>
            </function>
            <value eval=" {'noupdate': False} "/>
        </function>

        <!-- Modification de la confimation d'achat -->
        <record id="sale.mail_template_sale_confirmation" model="mail.template">
            <field name="subject">{{ object.company_id.name }} {{ (object.get_portal_last_transaction().state ==
                'pending') &amp; 'Pending Order' or 'Order' }} (Ref {{ object.name or 'n/a' }})
            </field>
        </record>

        <!-- repasser la non modification a True -->
        <function name="write" model="ir.model.data">
            <function name="search" model="ir.model.data">
                <value eval="[('name','=','mail_template_sale_confirmation'),('module','=','sale')]"/>
            </function>
            <value eval=" {'noupdate': True} "/>
        </function>
    </data>
</odoo>